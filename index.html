
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Builder's notes</title>
	<meta name="author" content="Erick PÃ©rez Castellanos">

	
	<meta name="description" content="This is post was due for about two weeks ago. I&#8217;ve been very busy, so here it goes. GNOME 3.10 was released almost three weeks ago. A huge &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Builder's notes" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Builder's notes</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:erick2red.github.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/111653970154711735047?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/erick2red" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/erick2red" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:erick2red.github.com">
	</form>
</nav>

</header>
	
		
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/erick2red">erick2red</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('erick2red', 4, false);
	})(jQuery);
</script>

	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/09/30/contacts-3-dot-10/">
		
			Contacts 3.10</a>
	</h2>
	<div class="entry-content">
		<p><em>This is post was due for about two weeks ago. I&#8217;ve been very busy, so here it goes.</em></p>

<p>GNOME 3.10 was released almost three weeks ago. A huge number changes and improvements were made as you can see in
the <a href="https://help.gnome.org/misc/release-notes/3.10/">release notes</a>. Those changes affected <strong>Contacts</strong> as well.</p>

<p>This cycle the platform gained client-side decoration support from Gtk+ toolkit. We, in Contacts, also
incorporated a cool <a href="https://developer.gnome.org/gtk3/3.10/GtkHeaderBar.html">header bar</a>, which in our case has the perk of being splitted between the contacts list and
the main contact pane.</p>

<p>The change in Contacts I&#8217;m most proud of is the new Change AddressBook dialog. It&#8217;s an UI change that improved
the experience a lot and <a href="https://bugzilla.gnome.org/show_bug.cgi?id=687220">clarified which is the active addressbook</a></p>

<p>Finally, under the hood, Contacts is starting to use most of the new widgets recently migrated into Gtk+ and
the template support landed this cycle.</p>

<p><strong>Edit</strong>: I owe you screenshots.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-09-30T12:06:00-04:00" pubdate data-updated="true">Sep 30<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/contacts/'>Contacts</a>, <a class='category' href='/blog/categories/gnome/'>Gnome</a>


</div>
	
	<div class="comments"><a href="/blog/2013/09/30/contacts-3-dot-10/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/07/16/a-week-for-releasing/">
		
			A Week for Releasing</a>
	</h2>
	<div class="entry-content">
		<p>I&#8217;ve set a deadline for doing a weekly post. Well, last week, I missed. It was a really busy week.
I was building a web-page, and I haven&#8217;t done that in like 10 months or something so I had a lot to
catch up. It was fun, though. I&#8217;m right now looking forward to start playing around with <a href="http://weblog.rubyonrails.org/2013/6/25/Rails-4-0-final/">Rails 4</a></p>

<p>On the other side my Gnome duties caught up with me. I&#8217;ve been acting as Contacts maintainer with Alex for
a while now. But so far, he was doing the releasing part. I, usually, implemented new stuff, reviewed patches,
fixed bugs, but no more. This past week since Alex is on vacation I had to fill in doing the release.</p>

<p>I was prompted by Matthias Clasen for doing a release of gnome-contacts for the 3.9.4 development release of <a href="http://permalink.gmane.org/gmane.comp.gnome.devel.announce/339">Gnome</a>.
In the process, I realized I can&#8217;t log into master.gnome.org for the purposes of uploading the packages. So,
Mathias kindly offered himself to upload the package. Later I got my account authorized, and I was able to release
gnome-contacts-3.8.3. This latter one, I was surprised to see it packaged this morning into Archlinux.</p>

<p>These two releases are only bug fixes, yet there nasty bugs fixed there. You can read the <a href="https://git.gnome.org/browse/gnome-contacts/tree/NEWS">NEWS</a> file, or
the <a href="https://git.gnome.org/browse/gnome-contacts/log/">commit log</a> to find about.</p>

<p>What&#8217;s next on Contacts ? I want to implement New Contact flow inline and get rid of dialog, and close a
bunch of bugs around it. Also, yesterday I got a bug from Allan about updating a bit the selection pattern, and I
would like to work on it.</p>

<p><strong>Update</strong>: I have to thanks Jonh Wendell for his fix of the webcam bug.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-07-16T08:16:00-04:00" pubdate data-updated="true">Jul 16<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/contacts/'>Contacts</a>, <a class='category' href='/blog/categories/gnome/'>Gnome</a>


</div>
	
	<div class="comments"><a href="/blog/2013/07/16/a-week-for-releasing/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/06/25/june-update-on-calendar/">
		
			June Update on Calendar</a>
	</h2>
	<div class="entry-content">
		<p>I&#8217;ve made a commitment with myself of posting updates of the stuff I&#8217;m working
once a week. This one is the first, and I expected to be out by Monday, but an
<a href="https://github.com/imathis/octopress">octopress</a> update and a plugin installation for handling image galleries
kept me from doing it.</p>

<p>By now, I&#8217;m a little tired of writing, therefore I&#8217;ll be quick about it.</p>

<p>A few weeks ago I restarted the work on <a href="https://live.gnome.org/Design/Apps/Calendar">Calendar</a> with the hope of adding a
bunch of new features in <strong>Gtk+</strong> to the project. I started by creating a
new branch, since I was sure the build would break a lot times in between, and
didn&#8217;t want to spoil <strong>master</strong></p>

<p>I&#8217;d set for myself a bunch of points I want to accomplish by rewriting the UI and
some of them has been done, some others, not yet. That&#8217;s the main reason why I keep
the branch still around. As soon as I feel the work is done, I&#8217;ll come back to work
on <strong>master</strong></p>

<p>I wanted to:</p>

<ol>
<li>Ditch <strong>clutter</strong> dependency. Use only Gtk+ widgets.</li>
<li>Include <a href="https://developer.gnome.org/gtk3/3.9/GtkSearchBar.html">GtkSearchBar</a>, <a href="https://developer.gnome.org/gtk3/3.9/GtkStack.html">GtkStack</a> and some of the latest Gnome UI guidelines</li>
<li>Use <a href="https://developer.gnome.org/gtk3/3.9/GtkBuilder.html">GtkBuilder</a>&#8217;s ui files as much as I can</li>
<li>Rework week-view to use <a href="https://developer.gnome.org/gtk3/3.9/GtkOverlay.html">GtkOverlay</a> instead of my own solution</li>
</ol>


<p>So far 1, 2 and 3 has been accomplished. Point number 4 is going well since I manage to
craft a day-view with the same requirements of week-view that does not need to
use <strong>GtkOverlay</strong>.</p>

<p>Some of the work done is showcased below</p>

<p><a class="fancybox" href="/images/galleries/calendar_june_2013/calendar-day-view.png" rel="shadowbox" title="calendar-day-view"><img src="/images/galleries/calendar_june_2013/thumbs/calendar-day-view.png" /></a>
<a class="fancybox" href="/images/galleries/calendar_june_2013/calendar-new-menu.png" rel="shadowbox" title="calendar-new-menu"><img src="/images/galleries/calendar_june_2013/thumbs/calendar-new-menu.png" /></a>
<a class="fancybox" href="/images/galleries/calendar_june_2013/calendar-search.png" rel="shadowbox" title="calendar-search"><img src="/images/galleries/calendar_june_2013/thumbs/calendar-search.png" /></a>
<a class="fancybox" href="/images/galleries/calendar_june_2013/calendar-updated.png" rel="shadowbox" title="calendar-updated"><img src="/images/galleries/calendar_june_2013/thumbs/calendar-updated.png" /></a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-06-25T21:19:00-04:00" pubdate data-updated="true">Jun 25<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/calendar/'>Calendar</a>, <a class='category' href='/blog/categories/gnome/'>Gnome</a>


</div>
	
	<div class="comments"><a href="/blog/2013/06/25/june-update-on-calendar/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/11/30/software-updates/">
		
			Software Updates</a>
	</h2>
	<div class="entry-content">
		<p>It&#8217;s been a very long time since I posted anything.
You might not know, I live in <a href="http://en.wikipedia.org/wiki/Santiago_de_Cuba">Santiago de Cuba</a>, Cuba, one of the cities trashed by the <a href="http://en.wikipedia.org/wiki/Hurricane_Sandy">hurricane
Sandy</a>. That left us a bunch of loses and lack of communication for weeks. We went
without power for at least 14 days, so you can imagine why I was not posting updates. Some time has
passed and the city is growing back from its ashes.</p>

<p>I&#8217;ve been working on <a href="https://live.gnome.org/Design/Apps/Calendar"><strong>Calendar</strong></a>, trying to get some minimal functioning
application, to get something out for you to use, and then I can continue
improving the rest. For now, I&#8217;ve focused on enable a fully working the &#8220;Event Details&#8221;
dialog. The thing is kinda clunky yet, but it works. It needs more polish
and heavy testing, though.</p>

<p>I also went and made a year-view implementation, which is almost fully
functional. This one was easy, was almost copy/paste from the old month-view
implementation.
The month-view also received a full face-lift. The previous version had some
super-rough edges when months didn&#8217;t fit in a 35 cells grid. That has been
fixed, our designers pulled some rabbits out of their hats. The new design,
which is already implemented suggest a scrolling
animation, but I want to be sure it works before going into it.</p>

<p>I&#8217;m trying to get <strong>Calendar</strong> in beta
shape for 3.8 release. I&#8217;m still need to implement three views: list-view,
day-view and week-view, and the search mechanism, with the results showing.
For the week-view I have an implementation which have scrolling issues,
I have to take care of.</p>

<p>Some minor mojo I don&#8217;t want to pass unnoticed:</p>

<ul>
<li>Squared buttons in the toolbar, thxs to Debarshy Ray for the suggestion and Cosimo&#8217;s libgd for the hack.</li>
<li>We added a proper use of <code>g_clear_object</code></li>
<li>Simple keyboard shortcuts, for <strong>Quit</strong> and change amount views.</li>
</ul>


<p>Now some screenshots</p>

<p><a class="fancybox" href="/images/galleries/calendar_dec_2012/edit-event-dialog.png" rel="shadowbox" title="edit-event-dialog"><img src="/images/galleries/calendar_dec_2012/thumbs/edit-event-dialog.png" /></a>
<a class="fancybox" href="/images/galleries/calendar_dec_2012/month-35-cell.png" rel="shadowbox" title="month-35-cell"><img src="/images/galleries/calendar_dec_2012/thumbs/month-35-cell.png" /></a>
<a class="fancybox" href="/images/galleries/calendar_dec_2012/month-42-cell.png" rel="shadowbox" title="month-42-cell"><img src="/images/galleries/calendar_dec_2012/thumbs/month-42-cell.png" /></a>
<a class="fancybox" href="/images/galleries/calendar_dec_2012/year-view-first.png" rel="shadowbox" title="year-view-first"><img src="/images/galleries/calendar_dec_2012/thumbs/year-view-first.png" /></a>
<a class="fancybox" href="/images/galleries/calendar_dec_2012/year-view-second.png" rel="shadowbox" title="year-view-second"><img src="/images/galleries/calendar_dec_2012/thumbs/year-view-second.png" /></a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-11-30T23:40:00-05:00" pubdate data-updated="true">Nov 30<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/calendar/'>Calendar</a>, <a class='category' href='/blog/categories/gnome/'>Gnome</a>


</div>
	
	<div class="comments"><a href="/blog/2012/11/30/software-updates/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/10/09/a-challenge-of-locales/">
		
			A Challenge of Locales</a>
	</h2>
	<div class="entry-content">
		<p>When developing an application aiming for everyone worldwide to use, there are certain challenges
you will face. Right now, mine is fighting laziness and locales.</p>

<p>I&#8217;m developing some widget for specifying a date and I&#8217;ve been struggling with date formats across locales
So, after reading a huge number of manpages, source-code, and so on I stumble on this code.</p>

<pre><code>#include &lt;langinfo.h&gt;
#include &lt;locale.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int
main(int argc, char *argv[])
{
  setlocale(LC_ALL,"");
  printf("%s\n",nl_langinfo(D_FMT));
  exit(EXIT_SUCCESS);
}
</code></pre>

<p>This will show me your date format according to your locale.
What I will ask, compile and run this code in your pc, and post the answer here along with your locales.</p>

<p>See you around.</p>

<p><em>Update</em>: Thxs for the comments. Two things: I&#8217;ve just updated the code, thxs to Tom, adding <strong>setlocale</strong> line made the code works. Second: Thxs to Tommi (first comment). That was the info I was looking for.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-10-09T09:41:00-04:00" pubdate data-updated="true">Oct 9<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/code/'>Code</a>, <a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="/blog/2012/10/09/a-challenge-of-locales/#disqus_thread">Comments</a></div>
	
</div>
</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Erick PÃ©rez Castellanos

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'github-blog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>